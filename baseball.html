<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìˆ«ìì•¼êµ¬ ê²Œì„</title>
    <meta http-equiv="Expires" content="-1">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">
    <style>
        body, h1, h2, h3, h4, h5, h6, button {
            padding: 0;
            margin: 0;
            font-family: 'Jua', sans-serif;

        }

        .none {
            display: none !important;
        }

        button:hover {
            cursor: pointer;
        }

        

        .con {
            max-width: 800px;
            /* height: 100vh; */
            margin: 0 auto;
            /* padding-top: 50px; */
            background-color: #4C73FF;
            display: flex;
            justify-content: center;
        }

        .box {

        }

        .top {
            position: fixed;
            max-width: 100%;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1;
            background-color: #4C73FF;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
        }

        .top_box {
            display: flex;
            justify-content: space-between;
            padding-top: 30px;

        }

        .top_box div {
            width: 200px;
            height: 60px;
            text-align: center;
        }

        .top_box .result, .top_box .success {
            background-color: #E06060;
            color: #fff;
            line-height: 60px;
            text-align: center;
            font-size: 25px;
        }

        .top_box .hint {
            line-height: 60px;
        }

        .top_box .hint:hover {
            cursor: pointer;
        }

        .top_box .score {
            display: flex;
            flex-direction: column;
            justify-content: center;
            text-align: center;
            align-items: center;
        }

        .box  button#again {
            margin-top: 50px;
            margin-left: auto;
            margin-right: auto;
            height: 50px;
            width: 200px;
            background-color: #eeeeee;
            border-radius: 15px;
        }

        .top_box .score #remain_txt {
            color: #fff;
        }

        .table_th {
            margin-top: 30px;
            display: flex;
            justify-content: center;
            border-bottom: 1px solid #fff;
            padding-bottom: 20px;
        }

        .table_th table th {
            width: 80px;
        }

        .input {
            display: flex;
            justify-content: center;
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 800px;
            background-color: #4C73FF;
            padding-bottom: 20px;

        }

        .input input,
        .input button {
            width: 200px;
            height: 40px;
            /* margin-top: 40px; */
            text-align: center;
            font-size: 25px;
            border: 2px solid #000;
            margin-left: 20px;
            margin-right: 20px;
        }

       

        .input button.btn_check {
            background-color: #45d385;
            height: 46px;
            width: 80px;
        }

        .input button.btn_again {
            background-color: #45d385;
            height: 46px;
            width: 200px;
        }

        .list_box_c {

            display: flex;
            justify-content: center;
            margin-top: 220px;
            height: 590px;
            overflow: auto;
            padding-top: 60px;

        }

        .list_box_c table td {
            width: 80px;
            text-align: center;
        }


        @media screen and (max-width: 500px) {

            body {
                background-color: #4C73FF;

            }

            .list_box_c {
                height: 230px;
            }

            .box .btn_check {
                height: 54px;
                width: 80px;
            }

            .box .btn_again {
                width: 200px;
            }
        }



        button:hover {
            cursor: pointer;
        }

        
        .start_box {
            margin: 0 auto;
            background-color: #4C73FF;
            text-align: center;
            height: 100vh;
            z-index: 2;
            align-items: center;
            display: flex;
            flex-direction: column;
            max-width: 800px;
        }

        .start_box h1 {
            padding: 20px;

        }

        .start_box .info {
            margin-top: 50px;
           
        }

        .start_box .info ul {
            width: 600px;
            margin: 0 auto;
            margin-top: 50px;
            text-align: left;
        }

        .start_box .info ul li {
            list-style: decimal;
            
        }

        .start_box .info ul li p {
            word-break: keep-all;
            word-wrap: break-word;
            
        }

        .start_box h2 {
        }

        .start_box h3 {
            margin-top: 80px;
        }

        .start_box .btn_start {
            width: 200px;
            height: 60px;
            background-color: #ee5c22;
            font-size: 20px;
            box-shadow: 5px 5px 5px ;
            margin-top: 80px;
        }

        .start_box .btn_toggle_box {
            margin-left: auto;
            margin-right: 20px;
            margin-top: 20px;

        }

        .start_box .btn_toggle_box button {
            background-color: #45d385;
            border: none;
            padding: 10px 30px;
            border-radius: 10px;
            font-weight: bold;
        }

        @media screen and ( max-width: 500px ) {
            body {
                font-size: 14px;
                
            }
            .pc {
                display: none;
            }

            .start_box {
                height: unset;
            }

            .start_box h1 {
                font-size: 26px;
            }

            .start_box .info ul {
                width: 280px;
            }

            .start_box .info ul li p {
            }

            .btn_start {
                margin-bottom: 50px;
            }

        }

        @media screen and ( min-width: 500px ) {
            .m {
                display: none;
            }
        }
    </style>

    

    <div class="box con">
       
        <div class="top">
            <div class="top_box">
                <div class="hint">âœ… ê²Œì„í•˜ëŠ” ë°©ë²•
                </div>
                <div class="result">â” â” â”
                </div>
                
                <div class="success none">SUCCESS</div>
                <div class="score">
                    <span>ë‚¨ì€ ê²½ê¸°</span>
                    <span id="remain_txt">20</span>
                    
                </div>
            </div>
            <button id='again' onclick="location.reload();">ì¬ì‹œì‘</button>
            <div class="table_th">
                <table>
                    <tr>
                        <th>no</th>
                        <th>ìˆ«ì</th>
                        <th>ê²°ê³¼</th>
                    </tr>
                </table>
            </div>
        </div>

        <div class="list_box_c">
            <div class="list_box">
                <table>

                </table>
            </div>
        </div>

        <div class="input">
            <input type="text" placeholder="ì •ë‹µ!!" onkeydown="onKeyDown_input();"  onKeyup="this.value=this.value.replace(/[^0-9]/g,'');"
            autofocus >
            <button class="btn_again none">ë‹¤ì‹œí•˜ê¸°</button>
            <button class="btn_check" onclick="onKeyDown();">ì…ë ¥</button>
        </div>
    </div>
    

    <div class="start_box none">
        <div class="btn_toggle_box">
            <button>ë‹«ê¸°</button>
        </div>
        <h1 class="pc">ğŸ¥ BASEBALL / ìˆ«ì ì•¼êµ¬ ê²Œì„ âš¾</h1>
        <h1 class="m">ğŸ¥ BASEBALL ê²Œì„ âš¾</h1>
        <div class="info">
            <h2>< ìˆ«ì ì•¼êµ¬ ê²Œì„ ë°©ë²• ></h2>
            <ul>
                <li><p>ë² ì´ìŠ¤ë³¼ ê²Œì„ì€ 0 ~ 9 ê¹Œì§€ì˜ ì¤‘ë³µë˜ì§€ ì•ŠëŠ” ëœë¤ ìˆ«ì 3ìë¦¬ë¥¼ ë§ì¶”ëŠ” ê²Œì„ì…ë‹ˆë‹¤.</p>   </li>
                <li><p>ì¤‘ë³µë˜ì§€ ì•ŠëŠ” ìˆ«ì 3ìë¦¬ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.</p>   </li>
                <li><p>ì¼ì¹˜í•˜ëŠ” ìˆ«ìê°€ ì—†ì„ ê²½ìš°, 'OUT' ì…ë‹ˆë‹¤.</p>   </li>
                <li><p>ê°™ì€ ìë¦¬ì— ì¼ì¹˜í•˜ëŠ” ìˆ«ìê°€ ì¡´ì¬í•  ê²½ìš° 'ê°œìˆ˜ + S(strike)' ì…ë‹ˆë‹¤.</p>   </li>
                <li><p>ëœë¤ ìˆ«ìì— í¬í•¨ì€ ë˜ì§€ë§Œ ë‹¤ë¥¸ ìë¦¬ì— ìˆ«ìê°€ ì¡´ì¬í•  ê²½ìš° 'ê°œìˆ˜ + B(ball)' ì…ë‹ˆë‹¤.</p>   </li>
                <li><p>20ë²ˆì˜ ê¸°íšŒ ë™ì•ˆ ëœë¤ ìˆ«ì 3ìë¦¬ë¥¼ ë§ì¶”ëŠ” ê²Œì„ì…ë‹ˆë‹¤.</p>   </li>
            </ul>
            <h3>< ì˜ˆì‹œ ëœë¤ ìˆ«ì : 430 ></h3>
            <ul>
                <li><p>158ì„ ì…ë ¥í•  ê²½ìš° -> 'OUT' ì…ë‹ˆë‹¤.</p>   </li>
                <li><p>143ì„ ì…ë ¥í•  ê²½ìš° -> '0S 2B' ì…ë‹ˆë‹¤.</p>   </li>
                <li><p>438ì„ ì…ë ¥í•  ê²½ìš° -> '2S 0B' ì…ë‹ˆë‹¤.</p>   </li>
            </ul>
        </div>
    </div>
    <script>


        var random_number = num();

        


        function num() {
            const ranArr = [];
            let i = 0;

            while (i < 3) {
                const rand = Math.floor(Math.random() * 10);
                if ( i > 0 ) {
                if (!sameNum(rand)) {
                        ranArr.push(rand);
                        i++;    
                    }
                       
                        
                }
                

                if ( i == 0 && rand != 0) {
                    if (!sameNum(rand)) {
                    ranArr.push(rand);
                    i++;    
                }
            }

            }

            function sameNum(rand) {
                for (var i = 0; i < ranArr.length; i++) {
                    if (rand === ranArr[i]) {
                        return true;
                    }
                }
                return false;
            }
            return ranArr;


        }

        const getResult = function (a1, a2) {
            var i = a1.length;
            if (i != a2.length) return false;
         
            while (i--) {
              if (a1[i] !== a2[i]) return false;
            }
            return true;
          };




        console.log(random_number);

        const rand_num_arr = [];


        var remain = 20;
       

        function onKeyDown() {



            var value = $('.input input').val();


            
             // if ( event.keyCode == 13 ) {

                value = value.replace(/[^0-9]/g, "");

                if (value.length > 3) {
                    alert('ìˆ«ìë¥¼ 3ìë¦¬ê¹Œì§€ë§Œ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                    return false;
                }

                if (value.length < 3) {
                    alert('ìˆ«ìë¥¼ 3ìë¦¬ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                    return false;
                }


                if (value.length < 1) {
                    alert('ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                    $('input').val('');
                    return false;
                }

                var first = Number(value.substr(0, 1));
                var second = Number(value.substr(1, 1));
                var third = Number(value.substr(2, 1));

                const enter_num_arr = [];
                enter_num_arr.push(first);
                enter_num_arr.push(second);
                enter_num_arr.push(third);

                if (first == second || second == third || first == third) {
                    alert('ìˆ«ìëŠ” ì¤‘ë³µë˜ì§€ ì•Šê²Œ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                    return false;
                }

                console.log(enter_num_arr);


                rand_num_arr.push(enter_num_arr);


                var strike = 0;
                var ball = 0;
                var out = 'OUT';
                var out_num = 0;
                var not_out = false;

                for (var a = 0; a < random_number.length; a++) {
                    if (!random_number.includes(enter_num_arr[a])) {
                        if (random_number[a] != enter_num_arr[a]) {
                            out_num++;
                            if (out_num == 3) {
                                $('.list_box table').append(
                                    '<tr><td>' + rand_num_arr.length + '</td>' +
                                    '<td>' + value + '</td>' +
                                    '<td>' + 'OUT' + '</td></tr>'
                                );

                                //alert('out');
                                //remain--;
                            }

                            $('input').val('');
                        }
                    } else {
                        if (random_number.includes(enter_num_arr[a])) {
                            if (random_number[a] === enter_num_arr[a]) {
                                strike++;
                                not_out = true;
                                //alert('stike');
                                //remain--;
                                if ( enter_num_arr[0] === 0 ) {
                                    alert('0ì€ ë§¨ ì²«ì§¸ìë¦¬ì— ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                                    return false;
                                }
                            }

                        }

                        if (random_number.includes(enter_num_arr[a])) {
                            if (random_number[a] !== enter_num_arr[a]) {
                                ball++;
                                not_out = true;
                                //alert('ball');
                                //remain--;
                                if ( enter_num_arr[0] === 0 ) {
                                    alert('0ì€ ë§¨ ì²«ì§¸ìë¦¬ì— ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                                    return false;
                                }
                                
                            }
                        }

                    }



                }

                remain--;

                if (not_out) {
                    $('.list_box table').append(
                        '<tr id="' + rand_num_arr.length + '"><td>' + rand_num_arr.length + '</td>' +
                        '<td>' + value + '</td>' +
                        '<td>' + strike + 'S ' + ball + 'B' + '</td></tr>'
                    );

                    /* var position = $('#' + rand_num_arr.length).offset();
                    $('html, body').animate({scrollTop : position.top}, 1000); */a


                    $('.list_box_c').scrollTop($('.list_box_c')[0].scrollHeight);



                    $('input').val('');
                    /* const element = document.getElementById('remain_txt');
                    element.innerHTML
                        = remain; */

                    

                    if (remain === 0) {
                        alert('ì•„ì‰½ê²Œë„ ì‹¤íŒ¨í•˜ì…¨ìŠµë‹ˆë‹¤..ã… ã… ');
                        $('.input input').addClass('none');
                        $('.btn_again').removeClass('none');
                        $('span#remain_txt').text('GAME OVER');
                        $('.btn_check').addClass('none');
                        return false;
                    }

                }

                console.log(rand_num_arr.length + ' : ' + rand_num_arr.length);
                console.log('remain : ' + remain);

                
                $('span#remain_txt').text(remain);
           // }

           if ( getResult(random_number, enter_num_arr) ) {
            $('.input input').addClass('none');
            $('.btn_again').removeClass('none');
            $('span#remain_txt').text('í™ˆ ëŸ°â—');
            $('.btn_check').addClass('none');
            $('.result').addClass('none');
            $('.success').removeClass('none');
            $('.success').text(random_number.toString().replace(/,/g, " "));
            alert('You Win â—â—')   
        }

           $('.input input').focus();
        }

        function onKeyDown_input() {
            if ( event.keyCode == 13 ) {
                onKeyDown();
            }
        }

        $('.btn_again').click(function () {
            location.reload();
        });

        $('.start_box .btn_toggle_box button').click(function(){
            $('.box').removeClass('none');
            $('.start_box').addClass('none');
        })

        $('.box .hint').click(function(){
            $('.start_box').removeClass('none');
            $('.box').addClass('none');
        });


    </script>
    </body>

</html>